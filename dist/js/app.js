!function(){function t(){var t=document.querySelectorAll("a[data-url]");[].forEach.call(t,function(t){t.addEventListener("click",function(t){t.preventDefault();var r=t.currentTarget.getAttribute("data-url"),a=t.currentTarget.href;history.pushState(null,null,a),e(r)})}),window.addEventListener("popstate",function(t){var r="/api"+window.location.pathname;"/api/"===r&&(r="/api/feed"),e(r)})}function e(t,e){var r=document.querySelector("main");fetch(t).then(function(t){return t.text}).then(function(t){return r.innerHTML=t,a()})}function r(){var t=document.querySelectorAll(".product");t[0].classList.add("product-active");var e=document.querySelector('.product-indicator[data-uuid="'+t[0].dataset.uuid+'"]');e.classList.add("product-indicator-active");var r=document.querySelectorAll(".product-indicator");[].forEach.call(r,function(t){t.addEventListener("click",function(t){var e=t.target.dataset.uuid,r=document.querySelector(".product-indicator-active");r.classList.remove("product-indicator-active");var a=t.target;a.classList.add("product-indicator-active");var c=document.querySelector(".product-active");c.classList.remove("product-active");var n=document.querySelector('.product[data-uuid="'+e+'"]');n.classList.add("product-active")})})}function a(){t(),"/"===window.location.pathname&&feed(),/appearance/.test(window.location.href)&&r()}"serviceWorker"in navigator?app.output("ServiceWorker is supported. Let's use it."):app.output("ServiceWorker is not supported"),document.addEventListener("DOMContentLoaded",function(){a()},!1)}();