!function(){function e(){var e=document.querySelectorAll("a[data-url]");[].forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault();var r=e.currentTarget.getAttribute("data-url"),o=e.currentTarget.href;history.pushState(null,null,o),t(r)})}),window.addEventListener("popstate",function(e){var r="/api"+window.location.pathname;"/api/"===r&&(r="/api/feed"),t(r)})}function t(e,t){var r=document.querySelector("main");fetch(e).then(function(e){return e.text}).then(function(e){return r.innerHTML=e,o()})}function r(){var e=document.querySelectorAll(".product");e[0].classList.add("product-active");var t=document.querySelector('.product-indicator[data-uuid="'+e[0].dataset.uuid+'"]');t.classList.add("product-indicator-active");var r=document.querySelectorAll(".product-indicator");[].forEach.call(r,function(e){e.addEventListener("click",function(e){var t=e.target.dataset.uuid,r=document.querySelector(".product-indicator-active");r.classList.remove("product-indicator-active");var o=e.target;o.classList.add("product-indicator-active");var c=document.querySelector(".product-active");c.classList.remove("product-active");var n=document.querySelector('.product[data-uuid="'+t+'"]');n.classList.add("product-active")})})}function o(){e(),"/"===window.location.pathname&&feed(),/appearance/.test(window.location.href)&&r()}"serviceWorker"in navigator?console.log("ServiceWorker is supported. Let's use it."):console.log("ServiceWorker is not supported"),"serviceWorker"in navigator?navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(e){console.log("registered sw (see console)"),console.info("registered sw",e)})["catch"](function(e){console.log("error registering sw (see console)"),console.error("error registering sw",e)}):app.output("ServiceWorker is not supported"),document.addEventListener("DOMContentLoaded",function(){o()},!1)}();